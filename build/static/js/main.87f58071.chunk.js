(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{12:function(e,t,c){},36:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(1),r=c(29),i=c.n(r),d=(c(36),c(4)),l=c(11),a=c(2),j=c(10),o=c.n(j),h=(c(12),function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{className:"home-header",children:Object(n.jsx)("h1",{children:"Welcome to Disc Golf SPA"})}),Object(n.jsx)("div",{className:"home-content",children:"This is the home page for the disc golf app. Use the navigation bar above to browse the site."}),Object(n.jsx)("div",{id:"Footer",children:Object(n.jsx)("p",{children:"Site created by Hannes Pohjola"})})]})}),u=function(e){var t=e.courses.filter((function(t){return t.City.toLowerCase().includes(e.filter)}));return t.length>30?Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h1",{children:"Find disc golf courses in Finland"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Filter by city "}),Object(n.jsx)("input",{value:e.filter,onChange:e.handleFilter})]}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"Too many matches, specify another filter"})}),Object(n.jsxs)("div",{id:"Footer",children:[Object(n.jsx)("p",{children:"Courses API provided by disc golf metrix"}),Object(n.jsx)("a",{href:"https://discgolfmetrix.com/?u=rule&ID=37",children:"Metrix API"})]})]}):t.length<=30&&t.length>=1?Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h1",{children:"Find disc golf courses in Finland"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Filter by city "}),Object(n.jsx)("input",{value:e.filter,onChange:e.handleFilter})]}),Object(n.jsx)("div",{children:t.map((function(e,t){return Object(n.jsxs)("div",{id:"courseInfo",children:[Object(n.jsxs)("h3",{children:[" ",e.Fullname]},e.Fullname),Object(n.jsxs)("p",{children:[" ",e.Area,", ",e.City," "]},e.ID)]},t)}))}),Object(n.jsxs)("div",{id:"Footer",children:[Object(n.jsx)("p",{children:"Courses API provided by disc golf metrix"}),Object(n.jsx)("a",{href:"https://discgolfmetrix.com/?u=rule&ID=37",children:"Metrix API"})]})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h1",{children:"Find disc golf courses in Finland"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Filter by city "}),Object(n.jsx)("input",{value:e.filter,onChange:e.handleFilter})]}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"No matches found"})}),Object(n.jsxs)("div",{id:"Footer",children:[Object(n.jsx)("p",{children:"Courses API provided by disc golf metrix"}),Object(n.jsx)("a",{href:"https://discgolfmetrix.com/?u=rule&ID=37",children:"Metrix API"})]})]})},b=c(14),O=c(15),x="/api/courses",m=function(){return o.a.get(x).then((function(e){return e.data}))},f=function(e){return o.a.post(x,e).then((function(e){return e.data}))},p=function(e,t){return o.a.put("".concat(x,"/").concat(e),t).then((function(e){return e.data}))},v=function(e){if(0===e.courseToShow.length)return null;var t=e.courseToShow.holes.map((function(e){return e.par}));return Object(n.jsx)("div",{className:"scoreDiv",children:Object(n.jsxs)("form",{onSubmit:e.handleFormSubmit,children:["Your name: ",Object(n.jsx)("input",{value:e.newName,onChange:e.handleName,required:!0}),Object(n.jsx)("div",{className:"scoreForm",children:Object(n.jsx)("table",{className:"scoreTable",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{id:"row-header",children:"Hole"}),e.courseToShow.holes.map((function(e){return Object(n.jsxs)("th",{children:[" ",e.id," "]},e.id)})),Object(n.jsx)("th",{id:"row-header",children:"Total"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{id:"row-header",children:"Par"}),e.courseToShow.holes.map((function(e){return Object(n.jsxs)("td",{children:[" ",e.par," "]},e.id)})),Object(n.jsxs)("td",{id:"row-header",children:[" ",t.reduce((function(e,t){return e+t}))," "]})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{id:"row-header",children:"Result"}),e.courseToShow.holes.map((function(t,c){return Object(n.jsxs)("td",{children:[" ",Object(n.jsx)("input",{id:"resultInput",name:c,onChange:e.handleScore,type:"number",min:"1",max:"100",step:"1",required:!0})," "]},t.id)}))]})]})})}),Object(n.jsx)("button",{className:"saveButton",type:"submit",children:"Save"}),Object(n.jsx)("button",{className:"saveButton",onClick:e.resetCourseToShow,children:"Cancel"})]})})},w=function(e){var t=e.message;return null===t?null:Object(n.jsx)("div",{className:"message",children:t})},N=function(e){if(!e.clickedNext)return null;for(var t=[],c=0;c<e.newHoleAmount;c++)t.push({id:c+1,par:0});return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("form",{onSubmit:e.handleAddNewFormSubmit,children:[Object(n.jsx)("div",{className:"scoreOverflow",children:Object(n.jsx)("table",{className:"scoreTable",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{id:"row-header",children:"Hole"}),t.map((function(e){return Object(n.jsxs)("th",{children:[" ",e.id," "]},e.id)}))]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{id:"row-header",children:"Par: "}),t.map((function(t,c){return Object(n.jsxs)("td",{children:[" ",Object(n.jsx)("input",{id:"parInput",name:c,onChange:e.handleHolePar,type:"number",min:"1",max:"5",step:"1",required:!0})," "]},t.id)}))]})]})})}),Object(n.jsx)("button",{className:"saveButton",type:"submit",children:"Save"}),Object(n.jsx)("button",{className:"saveButton",onClick:e.resetNewCourseAdd,children:"Cancel"})]})})},g=function(e){return e.courseChosen?null:e.showAddNew?e.showFirstForm?Object(n.jsx)("div",{className:"addCourse",children:Object(n.jsxs)("form",{onSubmit:e.handleNextClick,children:[Object(n.jsxs)("div",{className:"addLabel",children:[Object(n.jsx)("label",{children:"Course name: "}),Object(n.jsx)("input",{id:"nameInput",value:e.newCourseName,onChange:e.handleCourseName,required:!0})]}),Object(n.jsxs)("div",{className:"addLabel",children:[Object(n.jsx)("label",{children:"Number of holes:  "}),Object(n.jsx)("input",{id:"holeInput",value:e.newHoleAmount,onChange:e.handleHoleAmount,type:"number",min:"1",max:"30",step:"1",required:!0})]}),Object(n.jsx)("button",{type:"submit",className:"addButton",children:"Next"}),Object(n.jsx)("button",{onClick:e.resetNewCourseAdd,className:"addButton",children:"Cancel"})]})}):Object(n.jsxs)("div",{className:"addCourse",children:[Object(n.jsxs)("h3",{children:["Please give par values for ",e.newCourseName]}),Object(n.jsx)(N,{clickedNext:e.clickedNext,handleAddNew:e.handleAddNew,newHoleAmount:e.newHoleAmount,handleHolePar:e.handleHolePar,handleAddNewFormSubmit:e.handleAddNewFormSubmit,resetNewCourseAdd:e.resetNewCourseAdd})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{children:" Can't find the course/layout you're looking for? Add a new course! "}),Object(n.jsx)("button",{className:"button1",onClick:e.handleAddNew,children:"Add new"})]})},C=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],i=Object(s.useState)([]),l=Object(d.a)(i,2),a=l[0],j=l[1],o=Object(s.useState)(!1),h=Object(d.a)(o,2),u=h[0],x=h[1],N=Object(s.useState)(!0),C=Object(d.a)(N,2),y=C[0],S=C[1],A=Object(s.useState)(!1),F=Object(d.a)(A,2),k=F[0],I=F[1],P=Object(s.useState)(!1),T=Object(d.a)(P,2),D=T[0],H=T[1],B=Object(s.useState)({}),G=Object(d.a)(B,2),M=G[0],q=G[1],U=Object(s.useState)(""),Y=Object(d.a)(U,2),L=Y[0],E=Y[1],J=Object(s.useState)(""),R=Object(d.a)(J,2),W=R[0],_=R[1],z=Object(s.useState)(0),Q=Object(d.a)(z,2),V=Q[0],Z=Q[1],K=Object(s.useState)({}),X=Object(d.a)(K,2),$=X[0],ee=X[1],te=Object(s.useState)(null),ce=Object(d.a)(te,2),ne=ce[0],se=ce[1],re=0;Object(s.useEffect)((function(){m().then((function(e){r(e)}))}),[]);var ie=function(){x(!1),S(!0),I(!1),_(""),ee(0)};return Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h1",{children:"Save your round and view scores"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Choose course"}),c.map((function(e){return Object(n.jsxs)("button",{className:"button1",onClick:function(){return t=e.id,j(c.find((function(e){return e.id===t}))),void H(!0);var t},children:[" ",e.name," "]},e.id)}))]}),Object(n.jsx)("div",{className:"addNewCourse",children:Object(n.jsx)(g,{courseChosen:D,showAddNew:u,handleAddNew:function(){x(!0)},newCourseName:W,newHoleAmount:V,handleCourseName:function(e){_(e.target.value)},handleHoleAmount:function(e){Z(e.target.value)},handleNextClick:function(e){e.preventDefault(),I(!0),S(!1)},clickedNext:k,handleHolePar:function(e){ee(Object(O.a)(Object(O.a)({},$),{},Object(b.a)({},e.target.name,e.target.value)))},handleAddNewFormSubmit:function(e){e.preventDefault();for(var t=[],n=0,s=0;s<Object.keys($).length;s++)n+=parseInt($[s]),t.push({id:s+1,par:parseInt($[s])});f({name:W,parTotal:n,holes:t,results:[]}).then((function(e){r(c.concat(e)),ie(),se("New course added!"),setTimeout((function(){se(null)}),5e3)}))},showFirstForm:y,resetNewCourseAdd:ie})}),Object(n.jsx)("div",{children:Object(n.jsx)(w,{message:ne})}),Object(n.jsx)("div",{children:Object(n.jsx)(v,{courseToShow:a,resetCourseToShow:function(){j([]),H(!1)},newName:L,handleName:function(e){E(e.target.value)},handleScore:function(e){q(Object(O.a)(Object(O.a)({},M),{},Object(b.a)({},e.target.name,e.target.value)))},handleFormSubmit:function(e){e.preventDefault();var t=!1;(""===L||Object.keys(M).length<1)&&(t=!0);for(var n=0;n<Object.keys(M).length;n++)(isNaN(parseInt(M[n]))||0===parseInt(M[n])||""===M[n])&&(t=!0);if(t)se("Inputs cannot be empty and hole results must be numbers larger than 0!"),setTimeout((function(){se(null)}),5e3);else{for(var s,i=[],d=0;d<Object.keys(M).length;d++)re+=parseInt(M[d]),i.push({id:d+1,result:parseInt(M[d])});s=re-a.parTotal;var l=new Date,o=l.getDate()+"/"+l.getMonth()+"1/"+l.getFullYear(),h={name:L,score:re,toPar:s,results:i,time:o},u=c.find((function(e){return e.name===a.name}));u.results.push(h),j([]),q({}),p(u.id,u).then((function(e){r(c.map((function(t){return t.id!==u.id?t:e}))),re=0,i=[],se("Score saved!"),setTimeout((function(){se(null)}),5e3),H(!1)}))}}})}),Object(n.jsxs)("div",{className:"scores",children:[Object(n.jsx)("h2",{children:"Player Scores: "}),c.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:e.name}),Object(n.jsx)("div",{className:"resultDiv",children:Object(n.jsx)("table",{className:"resultTable",children:Object(n.jsxs)("tbody",{children:[Object(n.jsxs)("tr",{className:"trow",children:[Object(n.jsx)("th",{id:"cell1",children:"Player"}),Object(n.jsx)("th",{id:"cell1",children:"Date"}),Object(n.jsx)("th",{id:"cell2",children:"Hole:"}),e.holes.map((function(e){return Object(n.jsx)("th",{children:e.id},e.id)})),Object(n.jsx)("th",{children:"To par"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:" "}),Object(n.jsx)("td",{children:"  "}),Object(n.jsx)("td",{id:"cell2",children:"Par: "}),e.holes.map((function(e){return Object(n.jsx)("td",{children:e.par},e.id)})),Object(n.jsx)("td",{children:" "})]}),e.results.map((function(e,t){return Object(n.jsxs)("tr",{className:"trow",children:[Object(n.jsx)("td",{id:"cell1",children:e.name}),Object(n.jsx)("td",{id:"cell1",children:e.time}),Object(n.jsx)("td",{id:"cell2",children:"Result: "}),e.results.map((function(e){return Object(n.jsx)("td",{id:"tdresult",children:e.result},e.id)})),Object(n.jsxs)("td",{children:[" ",e.toPar," "]})]},t)}))]})})})]},e.id)}))]}),Object(n.jsx)("div",{id:"Footer",children:Object(n.jsx)("p",{children:"Courses and results are saved to MongoDB Atlas"})})]})},y=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h1",{children:"Some useful links"})}),Object(n.jsxs)("div",{className:"buydiscs",children:[Object(n.jsx)("h2",{children:"Buy discs, bags and other accessories"}),Object(n.jsx)("a",{id:"link",href:"https://www.powergrip.fi",children:"Powergrip"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{id:"link",href:"https://www.innovastore.fi",children:"InnovaStore"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{id:"link",href:"https://www.frisbeemarket.com",children:"Frisbeemarket"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{id:"link",href:"https://nbdg.fi/fi",children:"NBDG"})]}),Object(n.jsxs)("div",{className:"watchdg",children:[Object(n.jsx)("h2",{children:"Watch disc golf on Youtube"}),Object(n.jsx)("a",{id:"link",href:"https://www.youtube.com/channel/UC59Yn1FzyDWGpGARcV7G_fw",children:"Disc Golf Finland"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{id:"link",href:"https://www.youtube.com/channel/UCsrmSG6MHhU7aAwsq-ZhY8g",children:"NBDG"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{id:"link",href:"https://www.youtube.com/channel/UCmGyCEbHfY91NFwHgioNLMQ",children:"JomezPro"})]}),Object(n.jsxs)("div",{className:"findcomps",children:[Object(n.jsx)("h2",{children:"Find competitions and players"}),Object(n.jsx)("a",{id:"link",href:"https://www.pdga.com",children:"PDGA"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{id:"link",href:"https://discgolfmetrix.com/",children:"Metrix Suomi"})]})]})},S=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],i=Object(s.useState)(""),j=Object(d.a)(i,2),b=j[0],O=j[1],x=Object(s.useState)({}),m=Object(d.a)(x,2),f=m[0],p=m[1];Object(s.useEffect)((function(){o.a.get("https://discgolfmetrix.com/api.php?content=courses_list&country_code=FI").then((function(e){p(e.data)}))}),[]);return Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("div",{className:"Navigation",children:[Object(n.jsx)(l.b,{className:"button",to:"/",children:"Home"}),Object(n.jsx)(l.b,{className:"button",to:"/courses",onClick:function(){0===c.length&&r(f.courses.filter((function(e){return"1"===e.Type&&null!==e.City})))},children:"Browse courses in Finland"}),Object(n.jsx)(l.b,{className:"button",to:"/scores",children:"Save your rounds "}),Object(n.jsx)(l.b,{className:"button",to:"/links",children:"Useful links"})]}),Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)(a.c,{children:[Object(n.jsx)(a.a,{path:"/courses",children:Object(n.jsx)(u,{courses:c,filter:b.toLowerCase(),handleFilter:function(e){O(e.target.value)}})}),Object(n.jsx)(a.a,{path:"/scores",children:Object(n.jsx)(C,{})}),Object(n.jsx)(a.a,{path:"/links",children:Object(n.jsx)(y,{})}),Object(n.jsx)(a.a,{path:"/",children:Object(n.jsx)(h,{})})]})})]})})};i.a.render(Object(n.jsx)(S,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.87f58071.chunk.js.map